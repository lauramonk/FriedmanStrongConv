\chapter{Spectral theory of regular graphs}

We shall here present the basic results in the spectral theory of regular graphs, and
state the main results this project aims to formalise.

\section{Trivial eigenvalues}
\label{sec:trivial_eigenvalues}

Let $\de$ be a non-negative integer.
We know the spectrum of any regular graph is included in $[-\de,\de]$ by
Lemma \ref{lem:spectrum_in_segment}.
Let us first talk about the edges of this interval, $\pm \de$.

\begin{lemma}
  \label{lem:adjacency_of_constant_regular}
  \uses{lem:adjacency_of_constant,def:regular}
  Assume $G$ is not empty and locally finite. Then
  $G$ is regular of degree $\de$ iff $a \const = \de \const$.
\end{lemma}

\begin{proof}
  By Definition \ref{def:regular},
  $G$ is regular of degree $\de$ if and only if for all $x \in V(G)$,
  $\deg(x)=\de$.
  By Lemma \ref{lem:adjacency_of_constant}, this is equivalent to
  having, for all $x \in V(G)$, $a \const (x) = \de$, which is equivalent to
  $a \const = \de \const$ by Definition \ref{def:constant_one}.
\end{proof}

\begin{lemma}
  \label{lem:constant_eigenfunction_regular}
  \uses{lem:constant_is_l2,lem:adjacency_of_constant_regular,lem:one_neq_zero}
  Assume $G$ is regular of degree $\de$ and $V(G)$ is finite. Then
  $\de$ is an eigenvalue of the adjacency
  operator with associated eigenfunction the constant function $\const$.
\end{lemma}

\begin{proof}
  Since $G$ is finite, $\const \in \ell^2(G)$ by Lemma \ref{lem:constant_is_l2}.
  Furthermore, $\const \neq 0$ by Lemma \ref{lem:one_neq_zero}.
  By Lemma \ref{lem:adjacency_of_constant_regular}, if $G$ is regular of degree $\de$,
  then $a \const = \de \const$.  We conclude by the definition of eigenvalue and eigenvector.
\end{proof}

\begin{proposition}
  \label{prop:norm_adjacency_regular}
  \uses{thm:norm_adjacency_leq_sup_degree,lem:constant_eigenfunction_regular}
  If $G$ is regular of degree $\de$ and $V(G)$ is finite, then $\|a\|=\de$.
\end{proposition}

\begin{proof}
  Since $G$ is regular of degree $\de$, by
  Theorem \ref{thm:norm_adjacency_leq_sup_degree}, $\|a \| \leq \de$.
  By Lemma \ref{lem:constant_eigenfunction_regular}, $\de$ is an eigenvalue of $a$
  and hence $\|a\| \geq \de$,
  which is enough to conclude.
\end{proof}

\begin{proposition}
  \label{prop:regular_multiplicity_trivial_eigenvalue}
  \uses{thm:locally_constant_basis,lem:adjacency_locally_constant,lem:bound_a_sup_degree}
  Assume $G$ is regular of degree $\de$ and $V(G)$ is finite.
  Then the multiplicity of the
  eigenvalue $\de$ is exactly the number of connected components of $G$.
\end{proposition}

\begin{proof}
  We treat differently the case $\de=0$, where $a$ is identically equal to $0$
  and every function $V(G) \rightarrow \C$ is in the kernel of $a$, and
  hence the result holds since the connected components of $G$ are all the
  $\{x\}$ for $x \in V(G)$. Now assume $\de \neq 0$.

  Lemma \ref{lem:adjacency_locally_constant} implies that all locally constant
  functions are included in the eigenspace associated to the eigenvalue $\de$.
  Let us show the other inclusion.
  Assume $f$ is such that $af=\de f$. In particular, $\|af\|=\de\|f\|$ and hence
  by the equality case in Lemma \ref{lem:bound_a_sup_degree},
  \begin{equation*}
    \forall x \in V(G), \forall y, z \text{ adjacent to } x,
    f(y)=f(z).
  \end{equation*}
  In particular
  \begin{equation*}
    \de f(x) = af(x) = \sum_{d \in \dartset(x)} f(\ept(d)).
  \end{equation*}
  Note that this sum contains $\de$ terms and,
   for all $d,d' \in \dartset(x)$, $f(\ept(d))=f(\ept(d'))$
  so all of its terms are equal.
  Since $\de \neq 0$, we obtain
  that, for all $d, d' \in \dartset(G)$, $f(\ept(d))=f(\ept(d'))$,
  i.e. $f$ is locally constant.

  By Theorem \ref{thm:locally_constant_basis},
  the dimension of the space of locally constant functions
   is exactly the number of connected components of $G$,
  which allows to conclude.
\end{proof}

\begin{proposition}
  \label{prop:eigenvalue_regular_bipartite}
  \uses{lem:bipartite_odd_function,lem:bound_a_sup_degree}
  Assume $G$ regular of degree $\de \geq 1$ and $V(G)$ is finite. Then
  $-\de$ is an eigenvalue of $a$ if and only if $G$ has a bipartite connected
  component.
\end{proposition}

The following lemma will be useful.

\begin{lemma}
  \label{lem:bipartite_odd_function}
  \uses{def:bipartite,def:preconnected}
  Assume $G$ is preconnected and $E(G)$ is non-empty. Then
  $G$ is bipartite iff there exists a non-zero function
  $f : V(G) \rightarrow \C$
  such that, for all $x, y \in V(G)$,
  if $x$ and $y$ are adjacent, then $f(x)=-f(y)$.
\end{lemma}

We first prove Lemma \ref{lem:bipartite_odd_function}.

\begin{proof}
  Assume $G$ is bipartite. Then there exists a partition $U_1, U_2$ of $V(G)$
  such that any edge of $G$ has one end in $U_1$ and the other in $U_2$.
  Take $f = \const_{U_1}-\const_{U_2}$.
  The function $f$ is not equal to $0$, since $U_1$ is not empty,
  and for $x \in U_1$, $f(x)=1 \neq 0$.
  For any $x, y \in V(G)$ adjacent, one of the following occurs:
  \begin{itemize}
    \item either $x \in U_1$ and $y \in U_2$, and hence $f(x)=1=-f(y)$;
    \item or $x \in U_2$ and $y \in U_1$, and hence $f(x)=-1=-f(y)$.
  \end{itemize}

  Now assume there exists a non-zero function $f : V(G) \rightarrow \C$
  such that, for any $x, y \in V(G)$ adjacent, $f(x)=-f(y)$.
  By assumption, $E(G)$ is not empty, so there exists $x \in V(G)$ with
  at least an adjacent vertex.
  For any $y \in V(G)$, since $G$ is preconnected, there exists
  a walk $w$ from $x$ to $y$. We check by induction that the hypothesis on $f$
  implies $f(y) = (-1)^{\length(w)}f(x)$. Since $f \neq 0$, there exists $y \in V(G)$
  such that $f(y) \neq 0$, from which we deduce $f(x) \neq 0$.
  We define $U_1=\{y \in V(G) : f(y)=f(x)\}$ and $U_2=\{y \in V(G) : f(y)=-f(x)\}$.
\begin{itemize}
  \item By the previous computation, $V(G) = U_1 \cup U_2$.
  \item Since $f(x) \neq 0$, $U_1 \cap U_2 = \emptyset$.
  \item $U_1$ contains $x$ and is hence not empty. We picked $x$ so that it has
  at least one adjacent edge, which will be an element of $U_2$, and hence $U_2$ is
  not empty.
  \item For any edge $e \in E(G)$ linking two vertices $y, z$,
  we check that $y \in U_1 \Rightarrow x \in U_2$
  and $y \in U_2 \Rightarrow z \in U_1$ thanks to the fact that $f(y)=-f(z)$.
\end{itemize}
So, $G$ is bipartite.
\end{proof}

We can now proceed to the proof of Proposition \ref{prop:eigenvalue_regular_bipartite}.

\begin{proof}
  Let us assume that $- \de$ is an eigenvalue of $a$.
  Then by definition there exists a non-zero function $f \in \ell^2(G)$ such that
  $af=-\de f$.
  In particular $\|af\|=\de \|f\|$. By the equality case in Lemma
  \ref{lem:bound_a_sup_degree}, for any $x \in V(G)$, any $y, z$ adjacent to $x$,
  $f(y)=f(z)$.
  But then we have for $x \in V(G)$
  \begin{equation*}
    - \de f(x) = af(x) = \sum_{d \in \dartset(x)} f(\ept(d))
  \end{equation*}
  a sum with $\de \neq 0$ terms in which all terms are equal. Hence for any $y$
  adjacent to $x$, $f(y)=-f(x)$.
  Since $f \neq 0$, there exists $x \in V(G)$ such that $f(x) \neq 0$.
  We apply Lemma \ref{lem:bipartite_odd_function} to the graph $\ccm(x)$ with the
  restriction of the function $f$ (which we can do as $\ccm(x)$ is preconnected
  and has at least one edge since $\deg(x) = \de \geq 1$),
  and obtain that $\ccm(x)$ is bipartite.

  Now, let us assume that one connected component $C$ of $G$ is bipartite.
  $C$ is not empty so it contains at least one vertex, which has at least one
  incident edge as the graph is regular of degree $\de \geq 1$.
  Hence we can apply Lemma \ref{lem:bipartite_odd_function} to $C$
  and obtain a function $f$ such that, for any $x$, $y$ adjacent, $f(x)=-f(y)$.
  Then, let us define $F(x) = f(x)$ if $x \in C$ and $0$ otherwise.
  $F \in \ell^2(G)$ since $G$ is finite.
  We check that $aF=- \de F$ (here using the fact that, if $x$, $y$ are adjacent,
  then $x \in C \Leftrightarrow y \in C$). $F \neq 0$ as there exists $x \in C \subset V(G)$
  for which $F(x) = f(x) \neq 0$. So $-\de$ is an eigenvalue of $a$.
\end{proof}

\section{The spectral gap}

Let us now introduce the main object of interest of this project, the spectral gap.

\begin{lemma}
  \label{lem:projection_orth_constant}
  \uses{lem:constant_eigenfunction_regular,lem:orth_constant}
  Assume $G$ is regular of degree $\de$ and $V(G)$ is finite.
  Then the operator $a$ induces a bounded self-adjoint operator $a|_{\const^\perp}$
  on the orthogonal of $\const$ in $\ell^2(G)$, and $\|a|_{\const^\perp}\| \leq d$.
\end{lemma}

\begin{proof}
  This is classic theory of self-adjoint bounded operators, as $\const$ is an
  eigenvector of $a$ by Lemma \ref{lem:constant_eigenfunction_regular}.
\end{proof}

We will aim to study $\|a|_{\const^\perp}\|$.
For us, the ``spectral gap" is the difference
$$d - \|a|_{\const^\perp}\| = \|a\| - \|a|_{\const^\perp}\| \geq 0.$$
We will see in the results below why this is an interesting quantity.
Since there are several co-existing conventions for what the spectral gap is
we will refrain from making it into a formal definition.

This special norm is actually the absolute value of an eigenvalue of the graph.

\begin{lemma}
  \label{lem:norm_perp_is_eig}
  \uses{lem:projection_orth_constant}
  Assume $G$ is regular of degree $\de$ and $V(G)$ is finite.
  Then there exists $\lambda \in \R$ and a non-zero
  function $f : V(G) \rightarrow \C$
  such that $af=\lambda f$, $\sum_{x \in V(G)}f(x)=0$
   and $|\lambda| = \|a|_{\const^\perp}\|$.
\end{lemma}

\begin{proof}
  The operator $a|_{\const^\perp}$ is a self-adjoint operator in finite dimension
  by Lemma \ref{lem:projection_orth_constant}, and hence its spectrum is entirely
  made of real eigenvalues and its norm is the supremum of their absolute values.
  Hence there exists a function $f \in \const^\perp$ and $\lambda \in \R$
  such that $a|_{\const^\perp}f = \lambda f$, $f \neq 0$ and $|\lambda|=\|a|_{\const^\perp}\|$.
  The function $f$ and the number $\lambda$ satisfy the claim.
\end{proof}

The results proven in Section \ref{sec:trivial_eigenvalues} imply the following.

\begin{proposition}
  \label{prop:gap_iff}
  \uses{lem:norm_perp_is_eig,prop:eigenvalue_regular_bipartite,prop:regular_multiplicity_trivial_eigenvalue}
  Assume $G$ is regular of degree $\de$ and $V(G)$ is finite.
  Then, $\|a|_{\const^\perp}\| = d$ iff $G$ is disconnected or bipartite.
\end{proposition}

\begin{proof}
  By Lemma \ref{lem:norm_perp_is_eig},
  there exists a function $f : V(G) \rightarrow \C$ and a real number $\lambda$
  such that $af=\lambda f$, $|\lambda|=d$ and $\sum_{x \in V(G)} f(x)=0$.
  Since $\lambda \in \R$, either $\lambda = d$ or $\lambda=-d$.
  \begin{itemize}
    \item If $\lambda = d$, then since $f$ is not constant (otherwise it would be
    equal to $0$ as $\sum_{x \in V(G)}f(x)=0$), the multiplicity of
    the eigenvalue $d$ for $a$ is at least $2$. By Proposition
    \ref{prop:regular_multiplicity_trivial_eigenvalue}, the number of connected
    components of $G$ is $\geq 2$ and hence $G$ is disconnected.
    \item If $\lambda = -d$, then $-d$ is an eigenvalue of $a$.
    By Proposition \ref{prop:eigenvalue_regular_bipartite},
    $G$ has a connected component $C$ that is bipartite.
    \begin{itemize}
      \item If $C=V(G)$ then $G$ is bipartite.
      \item Otherwise $G$ is disconnected as it has a strict connected component.
    \end{itemize}
  \end{itemize}
\end{proof}

The Alon--Boppana bound is the following lower bound.

\begin{theorem}
  \label{thm:Alon_Boppana}
  \uses{def:diameter}
  \notready
  Let $G$ be a regular graph of degree $\de$ with a finite diameter.
  Then,
  \begin{equation*}
    \|a|_{\const^\perp}\|
     \geq 2 \sqrt{2 \de -1}
     - \frac{2 \sqrt{2 \de -1}-1}{\lfloor \diam (G) /2 \rfloor}.
  \end{equation*}
\end{theorem}

This bound is not required for the project, but it is not
very difficult to prove and I believe it would be a good side project if someone
wants to give it a try.
Here is a reference \cite{alon1986}, where the proof if for simple graphs but can
be easily adapted.

The special value $2\sqrt{2 \de - 1}$ appears here as the spectral radius of the
$\de$-regular tree.

\begin{definition}
  \label{def:regular_tree}
  \uses{def:regular,def:tree}
  A graph $G$ is a $\de$-regular tree if it is a tree and regular of degree $\de$.
\end{definition}

\begin{theorem}
  \label{thm:regular_tree_norm}
  \uses{def:regular_tree,def:adjacency_operator}
  \notready
  Let $G$ be a $\de$-regular tree. Then $\|a\| = 2 \sqrt{\de-1}$.
\end{theorem}

The proof of Theorem \ref{thm:regular_tree_norm} will be detailed in Section \ref{sec:tree}.

Proposition \ref{prop:bound_diameter_regular} allows to see the Alon--Boppana
bound as a limitation for the spectral gap as the graph grows (i.e. $\# V(G)$ is large).
From this observation Alon famously conjectured that most large regular trees
have a near-optimal spectral gap. The aim of this blueprint is to prove this result
for the permutation model introduced in Definition \ref{def:random_perm_graph}.

\begin{theorem}
  \label{thm:Friedman}
  \uses{def:random_perm_graph}
  \notready
  Let $\de \geq 4$ be an even integer.
  For any $\epsilon > 0$,
\begin{equation}
    \lim_{n \rightarrow \infty}
    \Prob(\|a|_{\const^\perp}\| \leq 2 \sqrt{2\de -1} + \epsilon) = 1.
\end{equation}
\end{theorem}

This result was first proven by Friedman in the early 2000s in a very long proof \cite{friedman2003}.
We will use a new method introduced by Chen, Garza-Vargas, Tropp and van Handel in \cite{chen2025}
called the polynomial method, which produced a radically simpler proof of this result.

Let us prove a simple consequence of this result.

\begin{proposition}
  \label{prop:random_connected_non_bipartite}
  \uses{thm:Friedman,prop:gap_iff}
  Let $\de \geq 4$ be an even integer.
  Then,
  \begin{equation}
    \lim_{n \rightarrow \infty} \Prob(G_{\vec{\pi}} \text{ is connected})=1
  \end{equation}
  and
    \begin{equation}
    \lim_{n \rightarrow \infty} \Prob(G_{\vec{\pi}} \text{ is bipartite})=0.
  \end{equation}
\end{proposition}

\begin{proof}
  Denote $A = "G_{\vec{\pi}} \text{ is disconnected}"$ and
  $B = "G_{\vec{\pi}} \text{ is bipartite}"$.
  By Proposition \ref{prop:gap_iff},
  \begin{equation*}
    \Prob(A \cup B) = \Prob(\|a|_{\const^\perp}\| = \de).
  \end{equation*}

  We check directly that $2 \sqrt{2 \de - 1} < \de$.
  Hence taking $\epsilon = (\de - 2 \sqrt{2 \de - 1})/2 > 0$
  we obtain
  \begin{equation*}
    \forall x, \quad x = \de \Rightarrow x > 2 \sqrt{2\de -1} + \epsilon.
  \end{equation*}
  Hence
  \begin{equation*}
    \Prob(A \cup B) \leq \Prob(\|a|_{\const^\perp}\| > 2 \sqrt{2\de -1} + \epsilon)
  \end{equation*}
  which goes to $0$ as $n \rightarrow \infty$ by Theorem \ref{thm:Friedman}.
  So $\lim_n \Prob(A) = 0$ and $\lim_n \Prob(B)=0$ which allows to conclude.
\end{proof}

\section{The infinite regular tree}
\label{sec:tree}

Let $\de \geq 1$ be an integer.
We define a model for the $\de$-regular tree.
Let $W_\de$ denote the set of words on the alphabet $[\de]$,
$V_\de$ denote the set of reduced words in $W_\de$ and
$\pi : W_\de \rightarrow V_\de$ the projection.
For words $w, w' \in W_\de$, we write $ww'$ their concatenation and $w^{-1}$ the
reversed version of the word $w$.

\begin{definition}
  \label{def:ex_dart_regtree}
  \uses{def:dartlike}
  We define a dartlike structure on $V_\de$ by letting:
  \begin{itemize}
    \item $D_\de = V_\de \times [\de]$;
    \item for $d=(w,i) \in D_\de$, we define:
    \begin{itemize}
      \item $\spt(d)=w$;
      \item $\ept(d) = \pi(wi)$ to be the reduced version of the word $wi$;
      \item $\symm(d)=(\pi(wi),i)$.
    \end{itemize}
  \end{itemize}
\end{definition}

\begin{definition}
  \label{def:ex_regtree}
  \uses{def:ex_dart_regtree,def:graph_of_dart}
  The model $\de$-reguar tree $\tree$
  is defined as the graph induced by the dartlike
  structure defined in Definition \ref{def:ex_dart_regtree},
  where $V(\tree) = V_\de$, $D(\tree)=D_\de$ and $E(\tree)=D(\tree)\diagup \symm$.
\end{definition}

\begin{lemma}
  \label{lem:ex_regtree_reg}
  \uses{def:regular,def:ex_regtree}
  $\tree$ is regular of degree $\de$.
\end{lemma}

\begin{proof}
  For $w \in V(\tree)$, we have $\dartset(w) = \{(w,i), i \in [\de]\}$
  which has cardinal $\de$.
\end{proof}

We now prove that $\tree$ is a tree.

\begin{lemma}
  \label{lem:ex_regtree_dartwalk_end}
  \uses{def:ex_regtree,def:dartwalk}
  Let $(d_k)_{1 \leq k \leq m}$ be a dartwalk on $\tree$ from $w$ to $w'$.
  Then $w' = \pi(w i_1 \ldots i_m)$.
\end{lemma}

\begin{proof}
  By induction.
  \begin{itemize}
    \item If $m=0$ (the walk is empty) then $w'=w = \pi(w)$ since $w$ is reduced.
    \item Otherwise, the walk is the concatenation of $d_1$ and the rest of the walk.
    Then by the induction hypothesis $w' = \pi(\ept(d_1) i_2 \ldots i_m)$.
    The conclusion follows from $\ept(d_1) = \pi(wi_1)$ by Definition \ref{def:ex_dart_regtree}
    together with the properties of $\pi$.
  \end{itemize}
\end{proof}

\begin{definition}
  \label{def:ex_regtree_dartwalk_proj}
  \uses{def:dartwalk,def:ex_regtree}
  Let us define the projection map $\Pi_\de^{\mathrm{dw}}$ from the set of
  all dartwalks to $W_\de$ defined by
  \begin{equation*}
    \Pi_\de^{\mathrm{dw}}((w_k,i_k)_{1 \leq k \leq m})
    = i_1 \ldots i_m.
  \end{equation*}
\end{definition}

\begin{lemma}
  \label{lem:ex_regtree_walks}
  \uses{def:dartwalk,lem:ex_regtree_dartwalk_end}
  Let $w, w' \in V(\tree)$.
  The restriction of $\Pi_\de^{\mathrm{dw}}$ to the set of dartwalks from $w$ to $w'$
  is a bijection onto the set of words $w''$
  such that $w' = \pi(w w'')$.
\end{lemma}

\begin{proof}
  Let $(d_k)_{1 \leq k \leq m}$ be a dartwalk from $w$ to $w'$
  and denote $w'' = \Pi_\de^{\mathrm{dw}}(d_k)_{1 \leq k \leq m}$.
  By Lemma \ref{lem:ex_regtree_dartwalk_end},
  $w' = \pi(w w'')$ so the range of the image is included in the claimed set.

  Let us prove it is a bijection by exhibiting an inverse.
  We define a function $\Psi$ which to a word $w''=i_1 \ldots i_m$ in
  $W_\de$ such that $w'=\pi(ww'')$ associates the darts
  $(d_k)_{1 \leq k \leq m}$ where
  $d_k = (\pi(w i_1 \ldots i_{k-1}), i_k)$.
  This is a dartwalk since $\ept(d_k) = \pi(\pi(w i_1 \ldots i_{k-1})i_{k})
  = \pi(w i_1 \ldots i_k) = \spt(d_{k+1})$ by the properties of $\pi$.
  Also $\spt(d_1)= \pi(w) = w$ and $\ept(d_m) = \pi(w w'') = w'$.
  So $\Psi(w'')$ is a dartwalk from $w$ to $w'$.

  Now we check that $\Psi$ is an inverse of $\Pi_\de^{\mathrm{dw}}$ directly
  from the definition.
\end{proof}

\begin{lemma}
  \label{lem:ex_regtree_closedwalk}
  \uses{lem:ex_regtree_walks}
  A dartwalk is closed (i.e. starts and ends at the same vertex)
  iff its image by $\Pi_\de^{\mathrm{dw}}$ reduces to
  the trivial word.
\end{lemma}

\begin{lemma}
  \label{lem:ex_regtree_path}
  \uses{def:dartpath,def:ex_regtree_dartwalk_proj}
  A dartwalk $(d_i)_{1 \leq i \leq m}$ is a path iff its image by
  $\Pi_\de^{\mathrm{dw}}$ is reduced.
\end{lemma}

\begin{proof}
  Let $p = (d_i)_{1 \leq k \leq m}$ be a dartwalk and denote $w = i_1 \ldots i_m$
  its image by $\Pi_\de^{\mathrm{dw}}$ and $(x_i)_{0 \leq i \leq m}$ its support.
  \begin{itemize}
    \item Assume $w$ is not reduced. Then there exists $1 \leq k < m$ such that
    $i_k=i_{k+1}$. Then we check $x_{k-1}=x_{k+1}$ and hence the walk is not
    a path.
    \item Assume $w$ is reduced. Let $1 \leq k \leq l \leq m$. Assume $x_k=x_l$.
    Then the dartwalk $(d_i)_{k < i \leq l}$ is a closed dartwalk.
    By Lemma \ref{lem:ex_regtree_closedwalk}, $\pi(i_{k+1} \ldots i_l)$ is
    the empty word. Since $w$ is reduced, it contains no non-trivial
    words that reduce to the empty word, and hence we have $k=l$.
  \end{itemize}
\end{proof}

\begin{proposition}
  \label{prop:ex_regtree_tree}
  \uses{lem:ex_regtree_path,lem:ex_regtree_walks}
  $\tree$ is a tree.
\end{proposition}

\begin{proof}
  Let $w$, $w'$ be two vertices of $\tree$, i.e. two elements of $V_\de$.
  We need to prove that there is a unique path from $w$ to $w'$.
  By Lemma \ref{lem:ex_regtree_walks}, any walk from $w$ to $w'$ is
  given by a unique word $w''$ such that $w'=\pi(w w'')$.
  By Lemma \ref{lem:ex_regtree_path},
  the walk is a path iff the word $w''$ is reduced.
  Note that the word $w''=\pi(w^{-1}w')$ is always reduced,
  satisfies $w'=\pi(w w'')$, and hence induces a path
  from $w$ to $w'$.
  For any path, since $w''$ is reduced, $w''=\pi(w'') = \pi(w^{-1}ww'') = \pi(w^{-1}w')$
  by properties of $\pi$.
  So this is the unique path from $w$ to $w'$.
\end{proof}



% We can construct an explicit example.
